{"version":3,"file":"static/webpack/static/development/pages/person.js.7b0abe71cb3d0d437cf9.hot-update.js","sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-properties.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/freeze.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral.js","webpack:///./node_modules/core-js/library/fn/object/define-properties.js","webpack:///./node_modules/core-js/library/fn/object/freeze.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/library/modules/es6.object.freeze.js","webpack:///./pages/publications.js"],"sourcesContent":["module.exports = require(\"core-js/library/fn/object/define-properties\");","module.exports = require(\"core-js/library/fn/object/freeze\");","import _Object$defineProperties from \"../../core-js/object/define-properties\";\nimport _Object$freeze from \"../../core-js/object/freeze\";\nexport default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return _Object$freeze(_Object$defineProperties(strings, {\n    raw: {\n      value: _Object$freeze(raw)\n    }\n  }));\n}","require('../../modules/es6.object.define-properties');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperties(T, D) {\n  return $Object.defineProperties(T, D);\n};\n","require('../../modules/es6.object.freeze');\nmodule.exports = require('../../modules/_core').Object.freeze;\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","import React from 'react'\nimport _ from 'lodash'\nimport Detail from './detail'\nimport summary from '../content/output/summary.json'\nimport booktitles from '../content/output/booktitles.json'\nimport files from '../content/output/files.json'\nimport vimeo from '../content/output/vimeo.json'\n\nclass Publications extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      publication: null\n    }\n\n    this.getPublications()\n    this.getPeople()\n\n    if (this.props.short) {\n      this.publications = this.publications.slice(0, 20)\n    }\n    if (this.props.author) {\n      this.publications = this.publications.filter((publication) => {\n        return publication.authors.includes(this.props.author)\n      })\n    }\n    this.getPhotos()\n  }\n\n  getPublications() {\n    const fileNames = Object.keys(summary.fileMap)\n    const keys = fileNames.filter((fileName) => {\n      return fileName.includes('publications')\n    })\n\n    this.publications = []\n    for (let key of keys) {\n      this.publications.push(summary.fileMap[key])\n    }\n    this.publications = this.publications.sort((a, b) => {\n      return new Date(b.date) - new Date(a.date)\n    })\n  }\n\n  getPeople() {\n    const fileNames = Object.keys(summary.fileMap)\n    const keys = fileNames.filter((fileName) => {\n      return fileName.includes('people')\n    })\n\n    this.people = []\n    for (let key of keys) {\n      let id = key.split('/')[3].replace('.json', '')\n      let person = Object.assign(summary.fileMap[key], { id: id })\n      this.people.push(person)\n    }\n\n    this.names = this.people.map((person) => person.name )\n    this.namesId = {}\n    for (let person of this.people) {\n      this.namesId[person.name] = person.id\n    }\n  }\n\n  getPhotos() {\n    const pictures =\n    files.children\n    .filter(dir => dir.name === 'images')[0].children\n    .filter(dir => dir.name === 'people')[0].children\n\n    this.pictures = []\n    for (let picture of pictures) {\n      this.pictures.push(picture.name)\n    }\n  }\n\n  getPhoto(id) {\n    let img = `${id}.jpg`\n    if (this.pictures.includes(img)) {\n      return `/static/images/people/${ id }.jpg`\n    } else {\n      return '/static/images/people/no-profile.jpg'\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"publications\" className=\"category\">\n        <h1 className=\"ui horizontal divider header\">\n          <i className=\"file alternate outline icon\"></i>\n          { this.props.short ? 'Recent Publications' : 'Publications' }\n        </h1>\n        <div className=\"ui segment\" style={{ marginTop: '50px' }}>\n         { this.publications.map((publication, i) => {\n            publication.id = publication.base.split('.json')[0]\n            return (\n              <div className=\"publication ui vertical segment stackable grid\" data-id={ publication.id } key={ i }>\n                <div className=\"three wide column\" style={{ margin: 'auto' }}>\n                  <img className=\"cover\" src={ `/static/images/publications/cover/${publication.id}.jpg` } />\n                </div>\n                <div className=\"thirteen wide column\">\n                  <p>\n                    <span className=\"ui big inverted label label-color\">{ publication.series }</span>\n                    { publication.award &&\n                      <span className=\"ui big basic pink label\">\n                      { publication.award === 'Honorable Mention' &&\n                        <b><i className=\"fas fa-award\"></i> Honorable Mention</b>\n                      }\n                      { publication.award === 'Best Paper' &&\n                        <b><i className=\"fas fa-trophy\"></i> Best Paper</b>\n                      }\n                      </span>\n                    }\n                  </p>\n                  <p className=\"color\" style={{ fontSize: '1.3em' }}>\n                      <b>\n                        { publication.title }\n                      </b>\n                  </p>\n                  <p>\n                    { publication.authors.map((author) => {\n                        return (\n                          this.names.includes(author) ?\n                          <a href={ `/people/${ this.namesId[author] }` } key={ author }>\n                            <img src={ this.getPhoto(this.namesId[author]) `/static/images/people/${ this.namesId[author] }.jpg`} className=\"ui circular spaced image mini-profile\" />\n                            <span className=\"author-link\">{author}</span>\n                          </a>\n                          :\n                          <span key={ author }>{author}</span>\n                        )\n                      }).reduce((prev, current) => [prev, ' , ', current])\n                    }\n                  </p>\n                  <p>\n                  { publication.keywords &&\n                  <div className=\"ui large basic labels\">\n                    { publication.keywords.split(', ').map((keyword) => {\n                      return <span className=\"ui brown basic label\" key={ keyword }>{ _.startCase(keyword) }</span>\n                    }) }\n                  </div>\n                  }\n                  </p>\n                </div>\n              </div>\n            ) // publications\n         })}\n        </div>\n\n        <div id=\"publications-modal\">\n         { this.publications.map((publication, i) => {\n            publication.id = publication.base.split('.json')[0]\n            return (\n              <div id={publication.id} className=\"ui large modal\" key={ publication.id }>\n                <div className=\"header\">\n                  <a href={ `/publications/${publication.id}` } target=\"_blank\">\n                    <i className=\"fas fa-link fa-fw\"></i>{`${publication.id}`}\n                  </a>\n                  <div className=\"actions\" style={{ float: 'right', cursor: 'pointer', color: 'grey' }}>\n                    <i className=\"ui right cancel close icon\">\n                    </i>\n                  </div>\n                </div>\n                <div className=\"content\">\n                  <Detail\n                    publication={ publication }\n                    namesId={ this.namesId }\n                    people={ this.people }\n                    booktitles={ booktitles }\n                    files={ files }\n                    vimeo={ vimeo }\n                    short=\"true\"\n                  />\n                </div>\n                <div className=\"actions\">\n                  <div className=\"ui right cancel button\">\n                    Close\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n\n\n        { this.props.short &&\n          <div className=\"ui vertical segment stackable\" style={{ textAlign: 'center' }}>\n            <a className=\"ui button\" href=\"/publications\">\n              { `+ ${this.publications.length} more publications` }\n            </a>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default Publications\n"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AADA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAnBA;AAmBA;AACA;;;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAPA;AAAA;AACA;AADA;AAOA;AAAA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAPA;AAAA;AACA;AADA;AAOA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AAAA;AAAA;AACA;AACA;AAfA;AAAA;AACA;AADA;AAeA;AAAA;AACA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAkBA;;;AAEA;AACA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AAPA;AAAA;AACA;AADA;AAOA;AAAA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAUA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAGA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAOA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAKA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAOA;AAGA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAAA;AACA;AAAA;AAMA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAOA;;;;AA1LA;AACA;AA4LA;;;;A","sourceRoot":""}