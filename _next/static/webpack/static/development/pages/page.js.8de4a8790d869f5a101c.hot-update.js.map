{"version":3,"file":"static/webpack/static/development/pages/page.js.8de4a8790d869f5a101c.hot-update.js","sources":["webpack:///./pages/detail.js"],"sourcesContent":["import React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport summary from '../content/output/summary.json'\nimport booktitles from '../content/output/booktitles.json'\n\nimport files from '../content/output/files.json'\n\nconst dirs =\nfiles.children\n.filter(dir => dir.name === 'images')[0].children\n.filter(dir => dir.name === 'publications')[0].children\n.filter(dir => dir.name === 'figures')[0].children\n\nlet figures = {}\nfor (let dir of dirs) {\n  let id = dir.name\n  let files = dir.children.map(file => file.path )\n  figures[id] = files\n}\n\nclass Detail extends React.Component {\n\n  componentDidUpdate(prev) {\n    console.log('update')\n    console.log(prev)\n  }\n\n  render() {\n    const publication = this.props.publication\n    const people = this.props.people\n    const namesId = this.props.namesId\n\n    if (!publication) {\n      return <div></div>\n    }\n\n    const names = people.map((person) => person.name )\n    const conference = publication.series.slice(0, -5)\n    const year = publication.series.slice(-2)\n    let proceeding = booktitles[conference]\n    if (!proceeding) {\n      proceeding = {}\n    }\n    proceeding.series = `${ conference } '${year}`\n    if (publication.pages < 4) {\n      proceeding.booktitle = 'Adjunct ' + proceeding.booktitle\n    }\n\n    if (publication.video) {\n      if (publication.video.includes('youtube')) {\n        let id = publication.video.split('?v=')[1]\n        publication.embed = `https://www.youtube.com/embed/${id}`\n      }\n      if (publication.video.includes('vimeo')) {\n        let id = publication.video.split('/')[3]\n        publication.embed = `https://player.vimeo.com/video/${id}`\n      }\n    }\n\n    publication.id = publication.base.split('.json')[0]\n\n    return (\n      <div id=\"publication\">\n        <div className=\"block\">\n          <div id=\"breadcrumb\" className=\"ui breadcrumb\">\n            <a className=\"section\" href=\"/publications\">Publications</a>\n            <i className=\"right angle icon divider\"></i>\n            <a className=\"active section\">{ publication.series }</a>\n          </div>\n          <div className=\"ui grid\" style={{ marginTop: '10px' }}>\n            <div className=\"three wide column\" style={{ margin: 'auto' }}>\n              <img className=\"cover\" src={ `/static/images/publications/cover/${ publication.id }.jpg` } />\n            </div>\n            <div className=\"thirteen wide column\">\n              <h1>{ publication.title }</h1>\n              <p className=\"meta\">\n                { publication.authors.map((author) => {\n                    return (\n                      names.includes(author) ?\n                      <a href={ `/people/${ namesId[author] }` } key={ author }>\n                        <img src={ `/static/images/people/${ namesId[author] }.jpg`} className=\"ui circular spaced image mini-profile\" />\n                        <strong>{author}</strong>\n                      </a>\n                      :\n                      <span key={ author }>{author}</span>\n                    )\n                  }).reduce((prev, current) => [prev, ' , ', current])\n                }\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"block\">\n          <div className=\"video-container\" style={{ display: publication.embed ? 'block' : 'none' }} >\n            <iframe\n              className=\"embed\"\n              width=\"100%\"\n              height=\"315\"\n              src={`${publication.embed}?`}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen={true}\n              mozallowfullscreen=\"true\"\n              msallowfullscreen=\"true\"\n              oallowfullscreen=\"true\"\n              webkitallowfullscreen=\"true\"\n            ></iframe>\n          </div>\n        </div>\n        <div className=\"block\">\n          <h1>Abstract</h1>\n          <p>{ publication.abstract }</p>\n\n          { publication.keywords &&\n            <div className=\"ui labels\">\n              Keywords: &nbsp;\n              { publication.keywords.split(', ').map((keyword) => {\n                return <span className=\"ui large grey label\" key={ keyword }>{ keyword }</span>\n              }) }\n            </div>\n          }\n        </div>\n        <div className=\"block\">\n          <h1>Reference</h1>\n          <div className=\"ui segment\">\n            <p style={{ lineHeight: \"160%\" }}>\n              { publication.authors.reduce((prev, current) => [prev, ', ', current]) }.&nbsp;\n              <b>{ publication.title }</b>.&nbsp;\n              <i>{ `In ${proceeding.booktitle} (${ proceeding.series })`  }</i>.&nbsp;\n              { proceeding.publisher }&nbsp;\n              Page: 1-{ publication.pages }.&nbsp;\n              DOI: <a href={ publication.doi} target=\"_blank\">{ publication.doi }</a>\n            </p>\n          </div>\n        </div>\n        { figures[publication.id] &&\n          <div className=\"block\">\n            <h1>Figures</h1>\n            <div id=\"figure\">\n              <div className=\"ui three cards\" style={{ marginTop: '30px' }}>\n                { figures[publication.id].map((src) => {\n                  return (\n                    <a className=\"card\" href={ `/${src}` } target=\"_blank\" >\n                      <div className=\"image\">\n                        <img src={ `/${src}` } />\n                      </div>\n                    </a>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n\n}\n\nexport default Detail\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;;;;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;AAEA;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAEA;AAAA;AAAA;AAMA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAeA;AAAA;AAKA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAKA;AAAA;AAAA;AAKA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAOA;;;;AAvIA;AACA;AA0IA;;;;A","sourceRoot":""}